# 藥物辨識系統技術棧討論 - 2

*日期: 2025年9月23日*

## 後端技術選型

### Python + Flask 方案

**優勢：**
1. **機器學習生態系統**：Python 擁有豐富的機器學習和圖像處理庫（TensorFlow、PyTorch、OpenCV 等），這對藥物辨識功能非常重要
2. **資料處理能力**：Python 在數據處理、分析方面擁有強大的庫（NumPy、Pandas）
3. **Flask 的靈活性**：輕量級框架，容易學習和擴展
4. **科學計算**：藥物特徵提取可能需要複雜的計算，Python 在這方面表現優秀

**劣勢：**
1. **效能**：並發處理能力不如 Node.js
2. **前後端整合**：與 Vue.js（JavaScript）的整合需要處理語言差異

### Node.js + Express 方案

**優勢：**
1. **前後端語言統一**：與 Vue.js 同為 JavaScript 生態系統，降低學習和整合成本
2. **非同步高效能**：處理並發請求的能力強，適合 Web API 服務
3. **npm 生態系統**：豐富的套件資源
4. **輕量高效**：適合構建 RESTful API

**劣勢：**
1. **機器學習支援受限**：雖有 TensorFlow.js 等庫，但功能和生態系統不如 Python
2. **圖像處理**：在複雜的圖像處理任務上，工具和庫相對較少
3. **科學計算**：在藥物特徵分析上可能需要額外整合工具

### 決策：Python + Flask

考慮到藥物辨識系統的核心功能涉及圖像識別和特徵提取，Python 的機器學習生態系統提供了顯著優勢。雖然會面臨前後端語言不同的挑戰，但通過良好的 API 設計和清晰的數據結構可以有效解決。

Flask 框架輕量且靈活，適合構建 RESTful API，能夠滿足前端 Vue.js 應用的需求。另外，Python 的資料處理能力將在藥物資訊分析和圖像特徵提取中發揮重要作用。

## 資料庫解決方案

### 系統資料特點

1. **結構化資料**：
   - 藥物基本信息（名稱、成分、用途等）
   - 藥物分類和關聯關係
   - 用戶查詢記錄

2. **非結構化資料**：
   - 藥物圖片
   - 藥物外觀特徵描述
   - 可變長度的使用說明或副作用描述

### 混合方案：PostgreSQL + 對象存儲

考慮到藥物辨識系統的特點，建議採用混合方案：

1. **主數據庫**：PostgreSQL
   - 存儲藥物的結構化信息
   - 處理複雜的藥物關聯關係
   - 管理用戶查詢記錄和系統業務邏輯
   - PostgreSQL 的 JSON 類型可以靈活存儲半結構化數據

2. **圖像存儲**：對象存儲服務（如 AWS S3、MinIO）
   - 專門用於存儲和快速訪問藥物圖片
   - 降低主數據庫負擔
   - 提供良好的圖片訪問性能

## 圖像辨識方法

### 分階段策略

考慮到專題的學術性質和資源限制，建議採用分階段策略：

**第一階段（MVP）：使用雲服務 API**
- 快速實現藥物辨識功能
- 使用 Google Cloud Vision API 進行一般圖像特徵識別
- 結合規則引擎和數據庫匹配來優化辨識結果

**第二階段（改進）：混合模型**
- 使用收集到的數據開始訓練自己的模型
- 針對常見藥物建立特定模型
- API和自建模型結合使用，提高辨識準確率

**第三階段（高級）：逐步轉向自建模型**
- 隨著數據積累，增強自建模型能力
- 減少對API的依賴，降低運營成本
- 針對台灣常用藥物特徵優化模型

## UI 介面原型

今天已完成藥物辨識系統的UI介面原型，使用Vue.js和Tailwind CSS實現，包含以下頁面：

1. **首頁**：包含圖片上傳區和藥物名稱搜尋功能
2. **搜索結果頁**：展示符合搜索條件的藥物列表
3. **藥物詳情頁**：顯示單個藥物的詳細資訊
4. **圖片辨識結果頁**：展示藥物辨識結果和相似藥物

原型位置：`MUS_Project/drug-recognition-demo/index.html`

## 技術棧總結

最終確定的技術棧如下：

1. **前端**：Vue.js + Tailwind CSS
2. **後端**：Python + Flask
3. **資料庫**：PostgreSQL + 對象存儲（圖片）
4. **圖像辨識**：分階段策略（初期使用Google Cloud Vision API，逐步過渡到自建模型）
5. **部署**：Docker容器化 + 雲服務（如AWS、GCP或Azure）

## 下一步計劃

1. 建立基本的開發環境（前後端分離）
2. 設計資料庫結構
3. 實現基本的API端點
4. 整合Google Cloud Vision API進行初步的圖像識別測試
5. 收集和整理藥物資料